# Project Bugs

## Fixed Bugs

### 1. PowerShell Select-String with quoted patterns blocked âœ… FIXED (2024-12-17)

**Issue:** The command validation was incorrectly blocking PowerShell commands that contained parentheses in quoted strings.

**Example that was failing:**
```
Select-String -Pattern "667eea|764ba2" -Path "src\components\*.css"
```

**Error:** 
```
Command contains unsafe patterns (chaining or subshells). Only single commands are allowed.
```

**Root Cause:** The security validation in `run_command()` was checking for parentheses `(` and `)` anywhere in the command string, even when they appeared inside quoted strings (which is safe).

**Fix:** Updated the validation logic in `command_execution_tools.py` to:
1. First check for command chaining operators (`;`, `&`, `|`, `` ` ``)
2. Then intelligently check for parentheses by first removing all quoted strings
3. Only block parentheses that appear outside of quotes (which could be subshell expressions)

This allows safe patterns like `"667eea|764ba2"` while still blocking dangerous patterns like `$(evil-command)` or unquoted subexpressions.

**Testing:** After reloading Claude, test with the command that was previously failing.